#:import utils kivy.utils
#:import button kivy.uix.button

#:set font_black 'fonts/ScalaSansOT-Regular.otf'
#:set font_cond_bold 'fonts/ScalaSansOT-CondBold.otf'
#:set DARK_BLUE (73/255,81/255,119/255,1)

#:set xx 368
#:set yy 286
#:set SEC_TEXT " [0% Complete]"

#:set BG_COLOR 0, 0, 0, 1
#:set TXT_COLOR 1, 1, 1, 1

#:set BTN_COLOR 69/255, 90/255, 100/255, 0.9

#:set FILLER "                                             "

#:include layout_files/templates.kv
#:include layout_files/AirPollution.kv
#:include layout_files/Alcohol.kv
#:include layout_files/DietAndFood.kv
#:include layout_files/Loading.kv
#:include layout_files/Landing.kv
#:include layout_files/SocioDemographics.kv
#:include layout_files/PhysicalActivity.kv
#:include layout_files/Login.kv
#:include layout_files/Location.kv
#:include layout_files/HyperTension.kv
#:include layout_files/DepressionPage.kv
#:include layout_files/TraumaticBrainInjury.kv
#:include layout_files/CognitiveDecline.kv

WindowManager:
	id: WindowManager
	name: "WindowManager"
	size: root.width, root.height

	# ------------------------------------- #

	LandingPage:
		name:'LandingPage'
		id:LandingPage

	LoginPage:
		id:LoginPage
		name:'LoginPage'

	AboutPage:
		name:'AboutPage'

	# ------------------------------------- #
	RiskAssesmentPage:
		id:RiskAssesmentPage
		name:'RiskAssesmentPage'

	# ------------------------------------- #
	SociodemographicPage:
		id:SociodemographicPage
		name:'SociodemographicPage'

	LocationPage:
		name:'LocationPage'

	# ------------------------------------- #
	AirPollutionLandingPage:
		id:AirPollutionLandingPage
		name:"AirPollutionLandingPage"

	AirPollutionPage:
		name: "AirPollutionPage"
		id: AirPollutionPage
		size: root.width, root.height

	AirPollutionScorePage:
		name: "AirPollutionScorePage"
		id: AirPollutionScorePage
		size: root.width, root.height

	# ------------------------------------- #
	DietAndFoodPage:
		id:DietAndFoodPage
		name:'DietAndFoodPage'

	DietLandingPage:
		id:DietLandingPage
		name:'DietLandingPage'

	DietScorePage:
		id:DietScorePage
		name:'DietScorePage'

	# ------------------------------------- #
	PhysicalActivityLandingPage:
		id:PhysicalActivityLandingPage
		name:'PhysicalActivityLandingPage'

	PhysicalActivityPage:
		id:PhysicalActivityPage
		name:'PhysicalActivityPage'

	PhysicalActivityScorePage:
		id:PhysicalActivityScorePage
		name:'PhysicalActivityScorePage'

	# ------------------------------------- #
	AlcoholLandingPage:
		id:AlcoholLandingPage
		name:'AlcoholLandingPage'

	AlcoholUsagePage:
		id:AlcoholUsagePage
		name:'AlcoholUsagePage'

	AlcoholScorePage:
		id:AlcoholScorePage
		name:'AlcoholScorePage'

	# ------------------------------------- #
	DepressionLandingPage:
		id:DepressionLandingPage
		name:'DepressionLandingPage'

	DepressionPage:
		id:DepressionPage
		name:'DepressionPage'

	DepressionScorePage:
		id:DepressionScorePage
		name:'DepressionScorePage'

	# ------------------------------------- #
	HyperTensionLandingPage:
		id:HyperTensionLandingPage
		name:'HyperTensionLandingPage'

	HyperTensionPage:
		id:HyperTensionPage
		name:'HyperTensionPage'

	HyperTensionScorePage:
		id:HyperTensionScorePage
		name:'HyperTensionScorePage'

	# ------------------------------------- #
	TraumaticBrainInjuryLandingPage:
		id:TraumaticBrainInjuryLandingPage
		name:'TraumaticBrainInjuryLandingPage'

	TraumaticBrainInjuryPage:
		id:TraumaticBrainInjuryPage
		name:'TraumaticBrainInjuryPage'

	TraumaticBrainInjuryScorePage:
		id:TraumaticBrainInjuryScorePage
		name:'TraumaticBrainInjuryScorePage'

	# ------------------------------------- #
	CognitiveDeclineLandingPage:
		id:CognitiveDeclineLandingPage
		name:'CognitiveDeclineLandingPage'

	CognitiveDeclinePage:
		id:CognitiveDeclinePage
		name:'CognitiveDeclinePage'

	CognitiveDeclineScorePage:
		id:CognitiveDeclineScorePage
		name:'CognitiveDeclineScorePage'

# =======================================
<RiskAssesmentPage>:
	BoxLayout:
		orientation: 'vertical'

		ActionBar:
			ActionView:
				HiddenIcon_ActionPrevious:
				# ActionPrevious:
				ActionButton:
					icon:"pics/left.png"
					on_release: root.chevron_left()
				ActionButton:
					text:"Risk Assesment"

		BoxLayout:
			orientation:'horizontal'
			# md_bg_color:(90/255, 90/255, 90/255,0.25)
			size_hint_y:.15

			BoxLayout:
				orientation:'horizontal'
				# BoxLayout:
				# 	orientation:'vertical'
				Label:

					text: 'Your Score:\n(higher is better)'
					halign: 'center'
					font_size:'14sp'
					color: TXT_COLOR

					# Label:
					# 	text: ''
					# 	halign: 'center'

				Label:
					color: TXT_COLOR
					id:score_label
					text: '0'
					halign: 'left'
					font_size:'26sp'

				Button:
					text: '    Reset    '
					halign: 'center'
					# size_hint:(1,1)
					# size_hint_y:0.5
					size_hint_x:1
					# _no_ripple_effect: True

		Label:
			text:''
			size_hint_y:0.005
			canvas.before:
				Color:
				    # rgba: 0, 1, 1, .6
				    rgba: 252/255, 186/255, 3/255, 1
			    Rectangle:
			        size: self.size
			        pos: self.pos

		ScrollView:
			scroll_type: ['bars','content']
			# scroll_wheel_distance: 20
			bar_width: 10
			do_scroll_x: False
			do_scroll_y: True
			bar_inactive_color: .55, .55, .55, 1
			bar_color: .663, .663, .663, 1

			BoxLayout:
				orientation:'vertical'
				height:1500
				size_hint_y:None
				pos_hint:{'center_x': 0.5, 'center_y': 0.5}
				pos_hint_x:0.5

				MyButton2:
					id:SocioDemographicPage_label
					text: 'Demographics' + SEC_TEXT
					on_release:
						root.manager.current="SociodemographicPage"
						root.manager.transition.direction="left"


				MyButton2:
					id:LocationPage_label
					text: 'Location' + SEC_TEXT
					on_release:
						root.manager.current="LocationPage"
						root.manager.transition.direction="left"


				MyButton2:
					id:AirPollutionPage_label
					text: 'Air Pollution' + SEC_TEXT
					on_release:
						root.manager.current="AirPollutionLandingPage"
						root.manager.transition.direction="left"



				MyButton2:
					id:DietAndFoodPage_label
					text: 'Diet & Food' + SEC_TEXT
					on_release:
						root.manager.current="DietLandingPage"
						root.manager.transition.direction="left"


				MyButton2:
					id:PhysicalActivityPage_label
					text: 'Physical Activity' + SEC_TEXT
					on_release:
						root.manager.current="PhysicalActivityLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'arm-flex-outline'

				MyButton2:
					id:AlcoholUsagePage_label
					text: 'Alcohol Usage' + SEC_TEXT
					on_release:
						root.manager.current="AlcoholLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'glass-cocktail'

				MyButton2:
					id:DepressionPage_label
					text: 'Depression' + SEC_TEXT
					on_release:
						root.manager.current="DepressionLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'head-alert-outline'


				MyButton2:
					id:HyperTensionPage_label
					text: 'Hypertension' + SEC_TEXT
					on_release:
						root.manager.current="HyperTensionLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'calculator-variant-outline'



				MyButton2:
					id:TraumaticBrainInjuryPage_label
					text: 'Traumatic Brain Injury' + SEC_TEXT
					on_release:
						root.manager.current="TraumaticBrainInjuryLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'brain'

				MyButton2:
					id:CognitiveDeclinePage_label
					text: 'Cognitive Decline' + SEC_TEXT
					on_release:
						root.manager.current="CognitiveDeclineLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'chart-multiline'

# =======================================
# ----


# ----


<MyButton>:
	text:""
	pos_hint:{'center_x': 0.5, 'center_y': 0.5}
	size_hint:BTN_WIDTH,BTN_HEIGHT  #separate size hints results in clock iteration error
	font_style:'Button'
	background_color: BTN_COLOR

<MyButton2>:
	text:""
	pos_hint:{'center_x': 0.5, 'center_y': 0.5}
	size_hint_x:0.8
	# size_hint:BTN_WIDTH,BTN_HEIGHT  #separate size hints results in clock iteration error
	font_style:'Button'
	background_color: BTN_COLOR

<AirP_ActionBar>:
	pos_hint: {'top':1}
	ActionView:
		HiddenIcon_ActionPrevious:
		# # ActionPrevious:
		ActionButton:
			icon:"pics/left.png"
			important: True
			on_release: root.chevron_left(root.parent.parent)
		ActionButton:
			text:"Air Pollution"
			important: True
			background_down: self.background_normal
		ActionButton:
			# text:"  "
		ActionButton:
			important: True
			icon:'pics/sun.png'
			on_release: app.toggle_theme()


# =======================================
<AboutPage>:
	BoxLayout:
		orientation: 'vertical'
		ActionBar:
			ActionView:
				ActionPrevious:
					title: 'About'
					on_release: root.chevron_left()
		Widget
		Label:
			canvas:
				Rectangle:
					id:rect
					source: 'pics/logo_minimal.png'
					# pos: (20,self.pos[1]+20)
					pos:(self.parent.size[0]//2-xx//2,self.parent.size[1]//2)
					# pos:(self.parent.size[0]//2-size_x//2,self.parent.size[1]//2+size_y//2)
					size: (xx,yy)

