#:import utils kivy.utils
#:import button kivy.uix.button

#:set font_black 'fonts/ScalaSansOT-Regular.otf'
#:set font_cond_bold 'fonts/ScalaSansOT-CondBold.otf'
#:set DARK_BLUE (73/255,81/255,119/255,1)

#:set xx 368
#:set yy 286
#:set SEC_TEXT " [0% Complete]"

#:set BG_COLOR 1, 1, 1, 1
#:set TXT_COLOR 0, 0, 0, 1

#:include layout_files/templates.kv
#:include layout_files/AirPollution.kv
#:include layout_files/Alcohol.kv
#:include layout_files/DietAndFood.kv
#:include layout_files/Loading.kv
#:include layout_files/Landing.kv
#:include layout_files/SocioDemographics.kv
#:include layout_files/PhysicalActivity.kv
#:include layout_files/Login.kv
#:include layout_files/Location.kv
#:include layout_files/HyperTension.kv
#:include layout_files/DepressionPage.kv
#:include layout_files/TraumaticBrainInjury.kv
#:include layout_files/CognitiveDecline.kv

WindowManager:
	id: WindowManager
	name: "WindowManager"
	size: root.width, root.height

	# ------------------------------------- #

	LandingPage:
		name:'LandingPage'
		id:LandingPage

	# LoadingPage:
	# 	name:'LoadingPage'
	# 	id:LoadingPage



	LoginPage:
		id:LoginPage
		name:'LoginPage'

	AboutPage:
		name:'AboutPage'

	# ------------------------------------- #
	RiskAssesmentPage:
		id:RiskAssesmentPage
		name:'RiskAssesmentPage'

	# ------------------------------------- #
	SociodemographicPage:
		id:SociodemographicPage
		name:'SociodemographicPage'

	LocationPage:
		name:'LocationPage'

	# ------------------------------------- #
	AirPollutionLandingPage:
		name:"AirPollutionLandingPage"

	AirPollutionPage:
		name: "AirPollutionPage"
		id: AirPollutionPage
		size: root.width, root.height

	AirPollutionScorePage:
		name: "AirPollutionScorePage"
		id: AirPollutionScorePage
		size: root.width, root.height

	# ------------------------------------- #
	DietAndFoodPage:
		id:DietAndFoodPage
		name:'DietAndFoodPage'

	DietLandingPage:
		id:DietLandingPage
		name:'DietLandingPage'

	DietScorePage:
		id:DietScorePage
		name:'DietScorePage'

	# ------------------------------------- #
	PhysicalActivityLandingPage:
		id:PhysicalActivityLandingPage
		name:'PhysicalActivityLandingPage'

	PhysicalActivityPage:
		id:PhysicalActivityPage
		name:'PhysicalActivityPage'

	PhysicalActivityScorePage:
		id:PhysicalActivityScorePage
		name:'PhysicalActivityScorePage'

	# ------------------------------------- #
	AlcoholLandingPage:
		id:AlcoholLandingPage
		name:'AlcoholLandingPage'

	AlcoholUsagePage:
		id:AlcoholUsagePage
		name:'AlcoholUsagePage'

	AlcoholScorePage:
		id:AlcoholScorePage
		name:'AlcoholScorePage'

	# ------------------------------------- #
	DepressionLandingPage:
		id:DepressionLandingPage
		name:'DepressionLandingPage'

	DepressionPage:
		id:DepressionPage
		name:'DepressionPage'

	DepressionScorePage:
		id:DepressionScorePage
		name:'DepressionScorePage'

	# ------------------------------------- #
	HyperTensionLandingPage:
		id:HyperTensionLandingPage
		name:'HyperTensionLandingPage'

	HyperTensionPage:
		id:HyperTensionPage
		name:'HyperTensionPage'

	HyperTensionScorePage:
		id:HyperTensionScorePage
		name:'HyperTensionScorePage'

	# ------------------------------------- #
	TraumaticBrainInjuryLandingPage:
		id:TraumaticBrainInjuryLandingPage
		name:'TraumaticBrainInjuryLandingPage'

	TraumaticBrainInjuryPage:
		id:TraumaticBrainInjuryPage
		name:'TraumaticBrainInjuryPage'

	TraumaticBrainInjuryScorePage:
		id:TraumaticBrainInjuryScorePage
		name:'TraumaticBrainInjuryScorePage'

	# ------------------------------------- #
	CognitiveDeclineLandingPage:
		id:CognitiveDeclineLandingPage
		name:'CognitiveDeclineLandingPage'

	CognitiveDeclinePage:
		id:CognitiveDeclinePage
		name:'CognitiveDeclinePage'

	CognitiveDeclineScorePage:
		id:CognitiveDeclineScorePage
		name:'CognitiveDeclineScorePage'

# =======================================
<RiskAssesmentPage>:
	BoxLayout:
		orientation: 'vertical'

		# canvas.before:
		# 	Color:
		# 		rgba: BG_COLOR
		# 	Rectangle:
		# 		size: self.size
		# 		pos: self.pos

		ActionBar:
			pos_hint: {'top':1}
			ActionView:
				ActionPrevious:
					title: 'Risk Assesment'
					# with_previous: False
					on_release: root.chevron_left()
				ActionOverflow:
					ActionButton:
						text: 'Btn0'
						# icon: 'floppy'
					ActionButton:
						text: 'Btn1'

		# Button:
		#     text:''
		#     size_hint_y:0.01
		#     size_hint_x:0.1
		#     pos_hint:{'center_x': 0.9, 'center_y': 0.5}
		#     id:button
		#     on_release: root.tap_target_start()

		BoxLayout:
			orientation:'horizontal'
			# md_bg_color:(90/255, 90/255, 90/255,0.25)
			size_hint_y:.15

			BoxLayout:
				orientation:'horizontal'
				BoxLayout:
					orientation:'vertical'
					Label:
						text: 'Your Score\n(higher is better)'
						halign: 'center'
						font_size:'10sp'
						color: TXT_COLOR
						# color: 0,0,0,1 # <-----------
						# canvas.before:
						# 	Color:
						# 		rgba: 0, 0, 0, 1
						# 	Rectangle:
						# 		pos: self.pos
						# 		size: self.size

					Label:
						text: ''
						halign: 'center'
				Label:
					color: TXT_COLOR
					id:score_label
					text: '0'
					halign: 'left'
					font_size:'26sp'

				Button:
					text: '    Reset    '
					halign: 'center'
					# size_hint:(1,1)
					size_hint_y:0.5
					size_hint_x:1
					# _no_ripple_effect: True

		Label:
			text:''
			size_hint_y:0.1

		ScrollView:
			scroll_type: ['bars','content']
			# scroll_wheel_distance: 20
			bar_width: 20
			do_scroll_x: False
			do_scroll_y: True
			bar_inactive_color: .55, .55, .55, 1
			bar_color: .663, .663, .663, 1

			BoxLayout:
				orientation:'vertical'
				height:1500
				size_hint_y:None
				pos_hint:{'center_x': 0.5, 'center_y': 0.5}
				# pos_hint_x:0.5
				# size_hint_x:0.98
				# id:listt

				# BoxLayout
				# 	orientation:'vertical'
				Button:
					id:SocioDemographicPage_label
					text: 'Demographics' + SEC_TEXT
					size_hint_x:1
					pos_hint:{'center_x': 0.5, 'center_y': 0.5}
					# background_normal:''
					# background_color: 1, 1, 1, 0.3
					# secondary_text: "0% Complete"
					# secondary_font_style:'Caption'
					on_release:
						root.manager.current="SociodemographicPage"
						root.manager.transition.direction="left"
				# 	# IconLeftWidget:
				# 	# 	icon:'gender-male-female'
				# Label:
				# 	size_hint_y:0.4
				# 	text:"0% Complete"
				# 	pos_hint:{'center_x': 0.5, 'center_y': 0.5}
				# 	font_size: '12sp'
				# 	canvas.before:
				#         Color:
				#         	rgba: 1, 1, 1, 0.3
				#         Rectangle:
				#             size: self.size
				#             pos: self.pos
				# Widget:
				# 	size_hint_y:0.1




				Button:
					id:LocationPage_label
					text: 'Location' + SEC_TEXT
					size_hint_x:1
					halign:'left'
					# pos_hint:{'center_x': 0.5, 'center_y': 0.5}
					secondary_text: "0% Complete"
					secondary_font_style:'Caption'
					on_release:
						root.manager.current="LocationPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'map-marker-plus-outline'


				Button:
					id:AirPollutionPage_label
					text: 'Air Pollution' + SEC_TEXT
					size_hint_x:1
					halign:'left'
					# pos_hint:{'center_x': 0.5, 'center_y': 0.5}
					secondary_text: "0% Complete"
					secondary_font_style:'Caption'
					# text_color: app.theme_cls.accent_color
					theme_text_color: 'Primary'
					on_release:
						root.manager.current="AirPollutionLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	id:air_pollution
					# 	icon:'air-filter'


				Button:
					id:DietAndFoodPage_label
					text: 'Diet & Food' + SEC_TEXT
					secondary_text: "0% Complete"
					size_hint_x:1
					pos_hint:{'center_x': 0.5, 'center_y': 0.5}
					secondary_font_style:'Caption'
					on_release:
						root.manager.current="DietLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'food-apple-outline'

				Button:
					id:PhysicalActivityPage_label
					text: 'Physical Activity' + SEC_TEXT
					secondary_text: "0% Complete"
					size_hint_x:1
					pos_hint:{'center_x': 0.5, 'center_y': 0.5}
					secondary_font_style:'Caption'
					on_release:
						root.manager.current="PhysicalActivityLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'arm-flex-outline'

				Button:
					id:AlcoholUsagePage_label
					text: 'Alcohol Usage' + SEC_TEXT
					secondary_text: "0% Complete"
					size_hint_x:1
					pos_hint:{'center_x': 0.5, 'center_y': 0.5}
					secondary_font_style:'Caption'
					on_release:
						root.manager.current="AlcoholLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'glass-cocktail'

				Button:
					id:DepressionPage_label + SEC_TEXT
					text: 'Depression'
					secondary_text: "0% Complete"
					size_hint_x:1
					pos_hint:{'center_x': 0.5, 'center_y': 0.5}
					secondary_font_style:'Caption'
					on_release:
						root.manager.current="DepressionLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'head-alert-outline'


				Button:
					id:HyperTensionPage_label + SEC_TEXT
					text: 'Hypertension'
					secondary_text: "0% Complete"
					size_hint_x:1
					pos_hint:{'center_x': 0.5, 'center_y': 0.5}
					secondary_font_style:'Caption'
					on_release:
						root.manager.current="HyperTensionLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'calculator-variant-outline'



				Button:
					id:TraumaticBrainInjuryPage_label + SEC_TEXT
					text: 'Traumatic Brain Injury'
					secondary_text: "0% Complete"
					size_hint_x:1
					pos_hint:{'center_x': 0.5, 'center_y': 0.5}
					secondary_font_style:'Caption'
					on_release:
						root.manager.current="TraumaticBrainInjuryLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'brain'

				Button:
					id:CognitiveDeclinePage_label + SEC_TEXT
					text: 'Cognitive Decline'
					secondary_text: "0% Complete"
					size_hint_x:1
					pos_hint:{'center_x': 0.5, 'center_y': 0.5}
					secondary_font_style:'Caption'
					on_release:
						root.manager.current="CognitiveDeclineLandingPage"
						root.manager.transition.direction="left"
					# IconLeftWidget:
					# 	icon:'chart-multiline'

# =======================================
# ----


# ----




# =======================================
<AboutPage>:
	BoxLayout:
		orientation: 'vertical'
		ActionBar:
			ActionView:
				ActionPrevious:
					title: 'About'
					on_release: root.chevron_left()
		Widget
		Label:
			canvas:
				Rectangle:
					id:rect
					source: 'pics/logo_minimal.png'
					# pos: (20,self.pos[1]+20)
					pos:(self.parent.size[0]//2-xx//2,self.parent.size[1]//2)
					# pos:(self.parent.size[0]//2-size_x//2,self.parent.size[1]//2+size_y//2)
					size: (xx,yy)

